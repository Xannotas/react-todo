(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{13:function(e){e.exports=JSON.parse('{"colors":["gray","green","blue","pink","light_green","purple","orange","red"]}')},16:function(e,t,o){e.exports=o.p+"static/media/list.244e2000.svg"},17:function(e,t,o){e.exports=o(30)},28:function(e,t,o){},29:function(e,t,o){},30:function(e,t,o){"use strict";o.r(t);var l=o(0),r=o.n(l),n=o(7),a=o.n(n),d=o(2),c=(o(28),o(29),o(3)),s=o(4),i=o.n(s),u=o(8),m=o(6),f=o(1),E=function(e,t){return e.indexOf(e.find((function(e){return e.id===t})))},b={folders:localStorage.getItem("folders")?JSON.parse(localStorage.getItem("folders")):[],currentFolderId:""!==localStorage.getItem("currentFolderId")?Number(localStorage.getItem("currentFolderId")):null,isShowAllFolders:"true"===localStorage.getItem("isShowAllFolders")},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLDER:ADD":var o=e.folders.length,l={id:o?e.folders[o-1].id+1:0,color:t.colorName,title:t.title,todos:[]};return Object(f.a)(Object(f.a)({},e),{},{folders:[].concat(Object(m.a)(e.folders),[l]),currentFolderId:l.id,isShowAllFolders:!e.folders.length&&!1});case"TODO:ADD":var r={id:e.folders[E(e.folders,t.folderId)].todos.length,text:t.text,complited:!1},n=Object(f.a)(Object(f.a)({},e),{},{folders:Object(m.a)(e.folders)});return n.folders[t.folderId].todos.push(r),n;case"FOLDER:SET-ID":return Object(f.a)(Object(f.a)({},e),{},{currentFolderId:t.folderId,isShowAllFolders:!1});case"TODO:SET_COMPLITE":var a=Object(f.a)(Object(f.a)({},e),{},{folders:Object(m.a)(e.folders)}),d=E(e.folders,t.folderId);return a.folders[d].todos.map((function(e){return e.id===t.todoId?e.complited=!e.complited:e})),a;case"TODO:DELETE":var c=Object(f.a)(Object(f.a)({},e),{},{folders:Object(m.a)(e.folders)}),s=e.folders[E(e.folders,t.folderId)].todos.filter((function(e){return e.id!==t.todoId}));return c.folders[t.folderId].todos=s,c;case"FOLDER:DELETE":var i=null;if(e.folders.length>1){var u=E(e.folders,t.folderId);e.folders[u+1]?i=e.folders[u+1].id:e.folders[u-1]&&(i=e.folders[u-1].id)}return Object(f.a)(Object(f.a)({},e),{},{folders:e.folders.length>1?e.folders.filter((function(e){return e.id!==t.folderId})):[],currentFolderId:i});case"FOLDER:SHOW-ALL":return Object(f.a)(Object(f.a)({},e),{},{isShowAllFolders:!0,currentFolderId:null});case"FOLDER:SET-TITLE":return Object(f.a)(Object(f.a)({},e),{},{folders:e.folders.map((function(e){return e.id===t.folderId?Object(f.a)(Object(f.a)({},e),{},{title:t.folderTitle}):e}))});default:return e}},O=Object(u.b)(F,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());window._state=O.getState();var h=O,I={addFolder:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return{type:"FOLDER:ADD",title:e,colorName:t}},deleteFolder:function(e){return{type:"FOLDER:DELETE",folderId:e}},setFolderId:function(e){return{type:"FOLDER:SET-ID",folderId:e}},setFolderTitle:function(e,t){return{type:"FOLDER:SET-TITLE",folderId:e,folderTitle:t}},addTodo:function(e,t){return{type:"TODO:ADD",folderId:e,text:t}},deleleTodo:function(e,t){return{type:"TODO:DELETE",folderId:e,todoId:t}},compliteTodo:function(e,t){return{type:"TODO:SET_COMPLITE",folderId:e,todoId:t}},showAllFolders:function(){return{type:"FOLDER:SHOW-ALL"}}},p=o(16),g=o.n(p),v=o(13),S=function(e){var t=e.onBlur,o=e.value,l=e.className,n=e.placeholder,a=void 0===n?"...":n,d=e.onSubmit,c=e.setValue,s=e.maxLenght,u=void 0===s?50:s;return r.a.createElement("input",{autoFocus:!0,placeholder:a,className:i()("input",l),value:o,onChange:function(e){var t=e.currentTarget.value;t.length<=u&&c(t)},onBlur:t,onKeyDown:function(e){"Enter"===e.key&&d()}})},T=Object(d.b)(null,{addFolder:I.addFolder})((function(e){var t=e.hideFormFolderCreactor,o=e.addFolder,n=Object(l.useState)(""),a=Object(c.a)(n,2),d=a[0],s=a[1],u=Object(l.useState)(0),m=Object(c.a)(u,2),f=m[0],E=m[1],b=function(){d.length>0&&d.length<=30&&(o(d,v.colors[f]),s(""),t())},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){E(e)}};return r.a.createElement("div",{className:"sidebar__create-folder-form"},r.a.createElement("button",{className:"btn btn-close",onClick:t},"\xd7"),r.a.createElement(S,{value:d,setValue:s,maxLenght:30,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438",onSubmit:b}),r.a.createElement("div",{className:"sidebar-colors"},v.colors.map((function(e,t){return r.a.createElement("button",{key:e,onClick:F(t),className:i()("sidebar-colors__item","color-"+e,{active:f===t})})}))),r.a.createElement("button",{className:"btn btn-submit w100",onClick:b},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))})),_=function(e){var t=e.title,o=e.color,l=e.id,n=e.currentFolderId,a=e.setFolderId,d=e.deleteFolder,c=e.isShowAllFolders;return r.a.createElement("div",{className:"sidebar-content__item-wrapper"},r.a.createElement("div",{className:i()("sidebar-content__item",{active:n===l&&!c}),onClick:function(){l!==n&&a(l)}},r.a.createElement("i",{className:i()("sidebar-content__item-color","color-".concat(o))}),r.a.createElement("span",{className:"sidebar-content__item-title"},t)),r.a.createElement("button",{className:"btn btn-remove d-none",onClick:function(){d(l)}},"\xd7"))},j=Object(d.b)((function(e){return{folders:e.folders,currentFolderId:e.currentFolderId,isShowAllFolders:e.isShowAllFolders}}),{setFolderId:I.setFolderId,deleteFolder:I.deleteFolder,showAllFolders:I.showAllFolders})((function(e){var t=e.setFolderId,o=e.folders,n=e.currentFolderId,a=e.deleteFolder,d=e.showAllFolders,s=e.isShowAllFolders,u=Object(l.useState)(!1),m=Object(c.a)(u,2),f=m[0],E=m[1];return r.a.createElement("aside",{className:"sidebar"},r.a.createElement("div",{className:"sidebar-content"},o.length>1&&r.a.createElement("div",{className:i()("sidebar-content__item","sidebar-content__item-all-todos",{active:s}),onClick:function(){d()}},r.a.createElement("i",{className:"sidebar-content__item-img"}," ",r.a.createElement("img",{src:g.a,alt:"list"})," "),r.a.createElement("span",{className:"sidebar-content__item-title"},"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438")),o.map((function(e){return r.a.createElement(_,{key:e.id,deleteFolder:a,title:e.title,color:e.color,id:e.id,setFolderId:t,currentFolderId:n,isShowAllFolders:s})}))),r.a.createElement("div",{className:"sidebar__create-folder"},r.a.createElement("button",{className:"btn sidebar__create-folder-btn",onClick:function(){E(!0)}},r.a.createElement("i",null,"+")," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u041f\u0430\u043f\u043a\u0443"),f&&r.a.createElement(T,{hideFormFolderCreactor:function(){E(!1)}})))})),N=Object(d.b)(null,{compliteTodo:I.compliteTodo,deleleTodo:I.deleleTodo})((function(e){var t=e.folderId,o=e.todoId,l=e.complited,n=e.text,a=e.compliteTodo,d=e.deleleTodo;return r.a.createElement("div",{className:"todo-item"},r.a.createElement("label",{className:"todo-item-content"},r.a.createElement("input",{type:"checkbox",checked:l,onChange:function(){a(t,o)}}),r.a.createElement("span",{className:"checkbox"},r.a.createElement("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M9.29999 1.20001L3.79999 6.70001L1.29999 4.20001",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),r.a.createElement("span",{className:"todo-item-content__text"},n)),r.a.createElement("button",{className:"btn btn-remove",onClick:function(){d(t,o)}},"\xd7"))})),w=function(e){var t=e.todos,o=e.title,n=e.color,a=e.folderId,d=e.setFolderTitle,s=Object(l.useState)(!1),u=Object(c.a)(s,2),m=u[0],f=u[1],E=Object(l.useState)(o),b=Object(c.a)(E,2),F=b[0],O=b[1],h=i()("content-folder__title","color-".concat(n));Object(l.useEffect)((function(){O(o)}),[o]);var I=function(){(f(!1),F!==o&&F.length<=30)&&d(a,""===F?"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f":F)};return r.a.createElement("div",{className:"content-folder"},m?r.a.createElement(S,{className:h,onBlur:I,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438",onSubmit:I,value:F,setValue:O}):r.a.createElement("h3",{onClick:function(){"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"===F&&O(""),f(!0)},className:h},r.a.createElement("span",null,o),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 383.947 383.947",width:"20px",height:"20px",fill:"#DFDFDF"},r.a.createElement("g",null,r.a.createElement("polygon",{points:"0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893"}),r.a.createElement("path",{d:"M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04 C386.027,77.92,386.027,64.373,377.707,56.053z"})))),r.a.createElement("div",{className:"hr"}),t.length>0&&r.a.createElement("div",{className:"content-folder__todos"},t.map((function(e){return r.a.createElement(N,{key:a+"_"+e.id,folderId:a,text:e.text,todoId:e.id,complited:e.complited})}))))},D=function(e){var t=e.hideTodoForm,o=e.addTodo,n=e.folderId,a=Object(l.useState)(""),d=Object(c.a)(a,2),s=d[0],i=d[1],u=function(){s.length>0&&s.length<=50&&(o(n,s),i(""))};return r.a.createElement("div",{className:"content-todo-form"},r.a.createElement(S,{placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438",onSubmit:u,value:s,setValue:i,maxLenght:50}),r.a.createElement("button",{className:"btn btn-submit",onClick:u},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0417\u0430\u0434\u0430\u0447\u0443"),r.a.createElement("button",{className:"btn btn-cancel",onClick:t},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))},L=Object(d.b)((function(e){return{folders:e.folders,currentFolderId:e.currentFolderId,isShowAllFolders:e.isShowAllFolders}}),{addTodo:I.addTodo,setFolderTitle:I.setFolderTitle})((function(e){var t=e.addTodo,o=e.folders,n=e.currentFolderId,a=e.isShowAllFolders,d=e.setFolderTitle,s=Object(l.useState)(!1),i=Object(c.a)(s,2),u=i[0],m=i[1],f=E(o,n);return r.a.createElement("main",{className:"content"},o.length?r.a.createElement("div",{className:"content-folder"},a||f<0?o.map((function(e){return 0===e.todos.length?null:r.a.createElement(w,{key:e.id,todos:e.todos,color:e.color,title:e.title,folderId:e.id,setFolderTitle:d})})):r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{todos:o[f].todos,color:o[f].color,title:o[f].title,folderId:o[f].id,setFolderTitle:d}),u?r.a.createElement(D,{hideTodoForm:function(){m(!1)},addTodo:t,folderId:f}):r.a.createElement("button",{className:"btn content-folder__add-btn",onClick:function(){m(!0)}},r.a.createElement("i",null,"+"),"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"))):r.a.createElement("p",{className:"content__empty"},"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"))})),k=Object(d.b)((function(e){return{folders:e.folders,currentFolderId:e.currentFolderId,isShowAllFolders:e.isShowAllFolders}}))((function(e){var t=e.folders,o=e.currentFolderId,n=e.isShowAllFolders;return Object(l.useEffect)((function(){localStorage.setItem("folders",JSON.stringify(t))}),[t]),Object(l.useEffect)((function(){localStorage.setItem("currentFolderId",null!==o?o.toString():"")}),[o]),Object(l.useEffect)((function(){localStorage.setItem("isShowAllFolders",n?"true":"false")}),[n]),r.a.createElement("div",{className:"app"},r.a.createElement(j,null),r.a.createElement(L,null))}));a.a.render(r.a.createElement(d.a,{store:h},r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null))),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.8bfc7a1a.chunk.js.map